# clow99/NexusDocs — API Reference

Generated by NexusDocs from a scan of the repository at ref `main`.

## API Reference

All endpoints are served under the Next.js App Router API (`src/app/api/**/route.js`). Unless otherwise noted, responses are JSON and require an authenticated session.

### Endpoints

- `/api/ai/status` — GET  
  Checks the configuration status of the AI service (e.g. whether OpenAI is available).

- `/api/auth/:...nextauth` — GET  
  NextAuth.js core handler (session, callback, sign-in, sign-out, etc.).

- `/api/auth/github/callback` — GET  
  Handles the GitHub OAuth callback and exchanges the authorization code for an access token.

- `/api/auth/github/connect` — GET, POST  
  Initiates or completes a GitHub OAuth connection for the current user.

- `/api/auth/github/disconnect` — POST  
  Disconnects the linked GitHub account from the current user.

- `/api/auth/github/pat` — POST  
  Stores or updates a GitHub Personal Access Token for the current user.

- `/api/auth/me` — GET  
  Returns the authenticated user profile and related metadata.

- `/api/auth/profile` — PATCH  
  Updates the current user’s profile fields.

- `/api/cron/scans` — GET, POST  
  Internal/cron-oriented endpoint for listing or triggering repository scans.

- `/api/github/repos` — GET  
  Lists GitHub repositories accessible to the connected GitHub account.

- `/api/projects` — GET, POST  
  - GET: List projects for the current user.  
  - POST: Create a new project (typically linked to a GitHub repository).

- `/api/projects/:projectId` — GET, PUT, DELETE  
  - GET: Retrieve details for a single project.  
  - PUT: Update project metadata or configuration.  
  - DELETE: Delete a project and associated data.

- `/api/projects/:projectId/ai/generate` — POST  
  Generates documentation proposals for a project using AI or a built‑in generator.

- `/api/projects/:projectId/drift` — GET  
  Returns information about documentation drift vs. the current repository state.

- `/api/projects/:projectId/proposals` — GET  
  Lists documentation proposals for the specified project.

- `/api/projects/:projectId/proposals/:proposalId` — GET  
  Retrieves a single documentation proposal, including its status and content.

- `/api/projects/:projectId/proposals/:proposalId/approve` — POST  
  Marks a proposal as approved.

- `/api/projects/:projectId/proposals/:proposalId/publish` — POST  
  Publishes an approved proposal (e.g. applies changes to project docs).

- `/api/projects/:projectId/proposals/:proposalId/regenerate` — GET  
  Regenerates a proposal’s content, usually re-running the AI generation.

- `/api/projects/:projectId/proposals/:proposalId/reject` — POST  
  Marks a proposal as rejected.

- `/api/projects/:projectId/scan` — POST  
  Triggers a repository scan for the given project (e.g. to detect changes).

- `/api/projects/:projectId/scans` — GET  
  Lists scans that have been run for the specified project.

- `/api/projects/:projectId/scans/:scanId` — GET  
  Retrieves details for a specific scan, including detected changes.

- `/api/projects/:projectId/settings` — GET, PUT  
  - GET: Fetch project-specific settings (e.g. AI and scan configuration).  
  - PUT: Update project settings.