# clow99/NexusDocs — Tutorial

Generated by NexusDocs from a scan of the repository at ref `main`.

## Tutorial

This tutorial walks you through getting NexusDocs running locally and performing your first end‑to‑end flow: creating a project, scanning a repo, and generating documentation proposals.

### Prerequisites

Before you start, make sure you have:

- **Node.js 18+** and **npm**
- A running **MariaDB/MySQL** instance
- Required environment variables configured (see `.env.example` and the list below)

Key environment variables:

- `NEXT_PUBLIC_APP_URL` — base URL for the app (e.g. `http://localhost:3000`)
- `DATABASE_URL` — MariaDB/MySQL connection string
- `AUTH_SECRET` — secret used by NextAuth
- (Optional) `NEXT_PUBLIC_MOCK_MODE` — enable mock mode for development UI

### 1. Clone and install

```bash
git clone https://github.com/clow99/NexusDocs.git
cd NexusDocs
npm install
```

### 2. Configure environment

1. Copy the example env file:

   ```bash
   cp .env.example .env
   ```

2. Edit `.env` and set at least:

   - `NEXT_PUBLIC_APP_URL=http://localhost:3000`
   - `DATABASE_URL=mariadb://username:password@localhost:3306/nexusdocs`
   - `AUTH_SECRET=replace-with-a-random-string`

3. Ensure your database server is running and accessible from the app.

For more details on database configuration, see `DATABASE_SETUP.md`.

### 3. Set up the database

Use Prisma to create/update the schema:

```bash
npx prisma db push
```

If this fails, double‑check `DATABASE_URL` and that the database exists and is reachable.

### 4. Run locally

Common scripts:

- `npm run dev` — `next dev`
- `npm run build` — `next build`
- `npm run start` — `next start`
- `npm run lint` — `eslint .`

For development:

```bash
npm run dev
```

Then open `http://localhost:3000` in your browser.

### 5. Create your first project

Once the app is running:

1. **Sign in** using the configured auth provider (see `.env.example` for auth‑related variables).
2. Go to the **Projects** section.
3. Click **New Project** (or equivalent UI action).
4. Enter your repository details (e.g. GitHub repo URL or identifier, depending on your configuration).
5. Save the project.

If GitHub integration is enabled, you can connect your GitHub account via the relevant UI, which uses:

- `GET/POST /api/auth/github/connect`
- `GET /api/auth/github/callback`

### 6. Scan the repository

After creating a project:

1. From the project page, trigger a **scan** of the repository.
2. The backend will use routes like:

   - `POST /api/projects/:projectId/scan`
   - `GET /api/projects/:projectId/scans`
   - `GET /api/projects/:projectId/scans/:scanId`

3. Wait for the scan to complete; you should see scan status/history in the UI.

### 7. Generate documentation proposals with AI

With at least one completed scan:

1. From the project view, start **AI generation** of documentation.
2. This uses:

   - `POST /api/projects/:projectId/ai/generate`
   - `GET /api/projects/:projectId/proposals`
   - `GET /api/projects/:projectId/proposals/:proposalId`

3. Review the generated **proposal**:
   - Read the summary and file‑level changes.
   - Compare proposed docs against the current repo state.

4. Decide how to proceed:
   - **Approve**: `POST /api/projects/:projectId/proposals/:proposalId/approve`
   - **Reject**: `POST /api/projects/:projectId/proposals/:proposalId/reject`
   - **Regenerate**: `GET /api/projects/:projectId/proposals/:proposalId/regenerate`
   - **Publish** (if supported in your workflow): `POST /api/projects/:projectId/proposals/:proposalId/publish`

### 8. Check AI configuration

If AI features are not working, verify the AI status endpoint:

- `GET /api/ai/status` — returns whether the AI provider (e.g. OpenAI) is correctly configured.

Ensure your OpenAI API key (and any related settings) are present in `.env` and not exposed via `NEXT_PUBLIC_*` variables.

### 9. Troubleshooting

Common issues:

- **Database connection errors**
  - Confirm `DATABASE_URL` is correct.
  - Ensure the database server is running and accessible.
  - Re‑run `npx prisma db push`.

- **Auth not working**
  - Make sure `AUTH_SECRET` is set.
  - Verify OAuth provider credentials and callback URLs match `NEXT_PUBLIC_APP_URL`.

- **AI not available**
  - Call `GET /api/ai/status` to check configuration.
  - Confirm AI‑related secrets are set in `.env`.

### Next steps

1. Add screenshots and concrete user flows for:
   - Creating a project
   - Running a scan
   - Reviewing and approving proposals
2. Link to the relevant sections in the User Guide and API Reference:
   - User Guide: high‑level workflows and UI walkthroughs.
   - API Reference: detailed docs for routes such as `/api/projects`, `/api/projects/:projectId/ai/generate`, and `/api/ai/status`.